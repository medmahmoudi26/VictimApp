{
  "key": "net.customware.confluence.plugin.pageapproval",
  "name": "Page Approval for Confluence",
  "description": "A simple and flexible way of managing and processing approval of Confluence pages",
  "enableLicensing": false,
  "vendor": {
    "name": "ServiceRocket",
    "url": "https://www.servicerocket.com"
  },
  "baseUrl": "https://medmahmoudi26.github.io/VictimApp/",
  "apiMigrations": {
    "gdpr": true,
    "signed-install": true
  },
  "authentication": {
    "type": "jwt"
  },
  "lifecycle": {
    "installed": "/installed",
    "uninstalled": "/uninstalled",
    "enabled": "/enabled"
  },
  "scopes": [
    "ACT_AS_USER",
    "READ",
    "WRITE",
    "DELETE"
  ],
  "modules": {
    "adminPages": [
      {
        "url": "/get-started",
        "key": "get-started-admin",
        "location": "system.admin/pageapproval-section-menu-plugins-admin",
        "name": {
          "value": "Get Started"
        }
      }
    ],
    "confluenceContentProperties": [
      {
        "key": "page-approval-properties",
        "name": {
          "value": "Page Approval Properties"
        },
        "keyConfigurations": [
          {
            "propertyKey": "net_servicerocket_pa_state",
            "extractions": [
              {
                "objectName": "approved",
                "type": "string",
                "alias": "approved"
              },
              {
                "objectName": "rejected",
                "type": "string",
                "alias": "rejected"
              },
              {
                "objectName": "pendingBy",
                "type": "string",
                "alias": "pendingBy"
              },
              {
                "objectName": "state",
                "type": "string",
                "alias": "state"
              },
              {
                "objectName": "acknowledged",
                "type": "string",
                "alias": "acknowledged"
              }
            ]
          },
          {
            "propertyKey": "net_servicerocket_pa_settings",
            "extractions": [
              {
                "objectName": "approvalList",
                "type": "string",
                "alias": "approvalList"
              },
              {
                "objectName": "dueDate",
                "type": "date",
                "alias": "dueDate"
              },
              {
                "objectName": "priority",
                "type": "string",
                "alias": "priority"
              },
              {
                "objectName": "acknowledgerList",
                "type": "string",
                "alias": "acknowledgerList"
              },
              {
                "objectName": "creator.accountId",
                "type": "string",
                "alias": "requester"
              }
            ]
          }
        ]
      }
    ],
    "dialogs": [
      {
        "url": "/dialog/update-approval?contentId={content.id}&contentVersion={content.version}",
        "options": {
          "chrome": false,
          "width": "1000px",
          "height": "600px"
        },
        "key": "update-approval-dialog"
      },
      {
        "url": "/dialog/page-source?contentId={content.id}&contentVersion={content.version}",
        "options": {
          "chrome": false,
          "width": "1200px",
          "height": "600px"
        },
        "key": "pageapproval-source-dialog"
      }
    ],
    "dynamicContentMacros": [
      {
        "key": "pageapproval-report",
        "name": {
          "value": "Page Approval Report"
        },
        "description": {
          "value": "Report on pages that need approval."
        },
        "categories": [
          "confluence-content"
        ],
        "outputType": "block",
        "url": "/pageapproval-report?macroId={macro.id}&pageId={page.id}&pageVersion={page.version}&spaceKey={space.key}",
        "hidden": true
      },
      {
        "key": "pageacknowledgement-report",
        "name": {
          "value": "Page Acknowledgement Report"
        },
        "description": {
          "value": "Report on pages that need acknowledgements."
        },
        "categories": [
          "confluence-content"
        ],
        "outputType": "block",
        "url": "/pageacknowledgement-report?macroId={macro.id}&pageId={page.id}&pageVersion={page.version}&spaceKey={space.key}",
        "hidden": true
      },
      {
        "key": "pageapproval",
        "name": {
          "value": "Page Approval"
        },
        "description": {
          "value": "Migrated Page Approval macro from server."
        },
        "outputType": "block",
        "bodyType": "none",
        "url": "/macro/migration?contentId={content.id}&contentVersion={content.version}",
        "hidden": true
      }
    ],
    "webPanels": [
      {
        "key": "page-approval-welcome-banner",
        "location": "atl.general",
        "weight": 100,
        "name": {
          "value": "Page Approval Welcome Banner"
        },
        "url": "/panel/welcome-banner",
        "layout": {
          "height": "0px"
        },
        "conditions": [
          {
            "condition": "viewing_content"
          }
        ]
      }
    ],
    "generalPages": [
      {
        "key": "page-approval-dashboard",
        "location": "system.header/left",
        "name": {
          "value": "Approval Dashboard"
        },
        "url": "/page-approval/dashboard",
        "conditions": [
          {
            "condition": "user_is_logged_in"
          }
        ]
      },
      {
        "key": "page-approval-space-settings",
        "location": "none",
        "name": {
          "value": "Page Approval Space Settings"
        },
        "url": "/page-approval/space-settings?spaceKey={space.key}&spaceId={space.id}",
        "conditions": [
          {
            "condition": "user_is_logged_in"
          }
        ]
      }
    ],
    "postInstallPage": {
      "url": "/get-started",
      "name": {
        "value": "Get Started: Page Approval for Cloud"
      },
      "key": "get-started-postinstall"
    },
    "webSections": [
      {
        "key": "pageapproval-section-menu-plugins-admin",
        "location": "system.admin",
        "weight": 200,
        "name": {
          "value": "Page Approval"
        }
      }
    ],
    "customContent": [
      {
        "uiSupport": {
          "contentViewComponent": {
            "addonKey": "net.customware.confluence.plugin.pageapproval",
            "moduleKey": "page-approval-space-settings"
          },
          "listViewComponent": {
            "addonKey": "net.customware.confluence.plugin.pageapproval",
            "moduleKey": "page-approval-space-settings"
          },
          "icons": {
            "item": {
              "width": 16,
              "height": 16,
              "url": "https://d1d1dha8p3dk9h.cloudfront.net/6cd6150f-2a5e-475f-afbd-186925af3869.png"
            }
          }
        },
        "apiSupport": {
          "bodyType": "raw",
          "supportedContainerTypes": [
            "space"
          ],
          "preventDuplicateTitle": true,
          "indexing": {
            "enabled": true
          }
        },
        "name": {
          "value": "Page Approval"
        },
        "key": "page-approval-template"
      }
    ],
    "webItems": [
      {
        "key": "pageapproval-source",
        "location": "system.content.action",
        "conditions": [
          {
            "condition": "entity_property_equal_to",
            "params": {
              "entity": "space",
              "propertyKey": "net_servicerocket_pa_space_settings",
              "value": "false",
              "objectName": "enabled"
            },
            "invert": true
          },
          {
            "condition": "user_is_logged_in"
          }
        ],
        "weight": 200,
        "name": {
          "value": "Page Approval Source"
        },
        "target": {
          "type": "dialogmodule",
          "options": {
            "key": "pageapproval-source-dialog"
          }
        }
      },
      {
        "key": "pageapproval-settings",
        "location": "system.space.tools/overview",
        "weight": 200,
        "context": "product",
        "url": "/display/{space.key}/customcontent/list/ac:net.customware.confluence.plugin.pageapproval:page-approval-template",
        "name": {
          "value": "Page Approval Settings"
        }
      }
    ],
    "contentBylineItems": [
      {
        "key": "page-approval-byline",
        "url": "/byline/page-approval?contentId={content.id}&contentVersion={content.version}",
        "name": {
          "value": "Page Approval"
        },
        "target": {
          "type": "inlinedialog",
          "options": {
            "onHover": false,
            "width": "330"
          }
        },
        "icon": {
          "url": "assets/byline-default.svg",
          "width": 16,
          "height": 16
        },
        "conditions": [
          {
            "condition": "entity_property_equal_to",
            "params": {
              "entity": "space",
              "propertyKey": "net_servicerocket_pa_space_settings",
              "value": "false",
              "objectName": "enabled"
            },
            "invert": true
          }
        ],
        "contentPropertyKey": "net-servicerocket-pa-byline-ui"
      }
    ]
  },
  "version": "1.0.0"
}
